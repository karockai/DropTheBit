config:
  target: "http://dropthebit.club"
  socketio:
    transports: ["websocket"]
    query: "id=3zVFUZQ34H4FI-3"
  phases:
    - duration: 20
      arrivalRate: 5
scenarios:
  - name: "Connect and join Room"
    engine: "socketio"
    flow:
      - emit:
          channel: "joinRoom_Req"
          data:
            "playerID": "{{$randomString()}}"
            "roomID": "3zVFUZQ34H4FI-3"

      - think: 25
      - loop:
        - emit:
            channel: "buy_Req"
            data:
              "roomID": "3zVFUZQ34H4FI-3"
              "socketID": 0
              "currentBid": 10000
              "currentVolume": 10000
        - think: 2
        - emit:
            channel: "sell_Req"
            data:
                "roomID": "3zVFUZQ34H4FI-3"
                "socketID": 0
                "currentBid": 1000
                "currentVolume": 10000
        - think: 2
      - think: 45

  # - name: "Connect and join Room"
  #   engine: "socketio"
  #   flow:
  #     - emit:
  #         channel: "joinRoom_Req"
  #         data:
  #           "playerID": "hola"
  #           "roomID": "4DUX94cpo0TAB2o"
  #     - think: 70

  # - name: "Connect and join Room"
  #   engine: "socketio"
  #   flow:
  #     - emit:
  #         channel: "joinRoom_Req"
  #         data:
  #           "playerID": "bye"
  #           "roomID": "4DUX94cpo0TAB2o"
  #     - think: 70
